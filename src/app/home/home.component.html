<form [formGroup]="postForm" (ngSubmit)="submitData()">
  <div class="main">
    <div class="input-fields">
      <input
        name="name"
        class="input-field"
        formControlName="name"
        placeholder="Name"
        id="name"
        type="text"
      />
      <ng-container
        [ngTemplateOutlet]="formError"
        [ngTemplateOutletContext]="{
          validation: 'required',
          message: 'Name is required',
          control: postForm.controls['name']
        }"
      ></ng-container>
    </div>
    <div class="input-fields">
      <input
        formControlName="email"
        name="email"
        placeholder="enter email"
        id="email"
        type="email"
        class="input-field"
      />
      <ng-container
        [ngTemplateOutlet]="formError"
        [ngTemplateOutletContext]="{
          validation: 'required',
          message: 'Email is required',
          control: postForm.controls['email']
        }"
      ></ng-container>
      <ng-container
        [ngTemplateOutlet]="formError"
        [ngTemplateOutletContext]="{
          validation: 'email',
          message: 'Email is invalid',
          control: postForm.controls['email']
        }"
      ></ng-container>
      <ng-container
        [ngTemplateOutlet]="formError"
        [ngTemplateOutletContext]="{
          validation: 'minLength',
          message: 'Email should have at least 3 symbols',
          control: postForm.controls['email']
        }"
      ></ng-container>
      <ng-container
        [ngTemplateOutlet]="formError"
        [ngTemplateOutletContext]="{
          validation: 'maxLength',
          message: 'Email should have maximum 360 symbols',
          control: postForm.controls['email']
        }"
      ></ng-container>
    </div>
    <div class="input-fields">
      <input
        formControlName="password"
        name="password"
        class="form-control"
        placeholder="enter password"
        id="password"
        type="password"
        class="input-field"
      />
      <ng-container
        [ngTemplateOutlet]="formError"
        [ngTemplateOutletContext]="{
          validation: 'required',
          message: 'Password is required',
          control: postForm.controls['password']
        }"
      ></ng-container>
      <ng-container
        [ngTemplateOutlet]="formError"
        [ngTemplateOutletContext]="{
          validation: 'minlength',
          message: 'Password should have at least 3 symbols',
          control: postForm.controls['password']
        }"
      ></ng-container>
      <ng-container
        [ngTemplateOutlet]="formError"
        [ngTemplateOutletContext]="{
          validation: 'maxLength',
          message: 'Password should have maximum 100 symbols',
          control: postForm.controls['password']
        }"
      ></ng-container>
      <ng-container
        [ngTemplateOutlet]="formError"
        [ngTemplateOutletContext]="{
          validation: 'pattern',
          message:
            'Password should contain atleast uppercase, lowercase, special character,number and limit 8-20 must be required.',
          control: postForm.controls['password']
        }"
      ></ng-container>
    </div>
    <div class="input-fields">
      <input
        name="address"
        class="input-field"
        formControlName="address"
        placeholder="address"
        id="address"
        type="text"
      />
      <ng-container
        [ngTemplateOutlet]="formError"
        [ngTemplateOutletContext]="{
          validation: 'required',
          message: 'address is required',
          control: postForm.controls['address']
        }"
      ></ng-container>
    </div>
    <div class="input-fields">
      <input
        name="contact"
        class="input-field"
        formControlName="contact"
        placeholder="contact"
        id="contact"
        type="text"
      />
      <ng-container
        [ngTemplateOutlet]="formError"
        [ngTemplateOutletContext]="{
          validation: 'required',
          message: 'contact is required',
          control: postForm.controls['contact']
        }"
      ></ng-container>
    </div>
    <div class="input-fields">
      <input
        name="city"
        class="input-field"
        formControlName="city"
        placeholder="city"
        id="city"
        type="text"
      />
      <ng-container
        [ngTemplateOutlet]="formError"
        [ngTemplateOutletContext]="{
          validation: 'required',
          message: 'city is required',
          control: postForm.controls['city']
        }"
      ></ng-container>
    </div>
    <button>Add Data</button>
  </div>
</form>

<!-- for invalid form -->
<ng-template
  #formError
  let-control="control"
  let-message="message"
  let-validation="validation"
>
  <ng-container
    *ngIf="control.hasError(validation) && (control.dirty || control.touched)"
  >
    <div class="fv-plugins-message-container">
      <span role="alert" style="color: black">
        {{ message }}
      </span>
    </div>
  </ng-container>
</ng-template>
